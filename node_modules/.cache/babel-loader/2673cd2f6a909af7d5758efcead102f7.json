{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\User\\\\Desktop\\\\sortable_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\sortable_app\\\\src\\\\App.js\";\n\nimport React, { useState } from \"react\";\nimport { ReactSortable } from \"react-sortablejs\";\nimport styled from \"styled-components\";\nimport \"./styles.css\";\nimport { classes } from './classes.js';\nconst StyledBlockWrapper = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  position: relative;\\n  background: white;\\n  text-align: center;\\n  padding: 20px;\\n  margin-bottom: 10px;\\n  border: 1px solid lightgray;\\n  border-radius: 4px;\\n  cursor: move;\\n  &:hover {\\n    //background: #eeeeee;\\n  }\\n\"])));\nconst sortableOptions = {\n  animation: 150,\n  fallbackOnBody: true,\n  swapThreshold: 0.65,\n  ghostClass: \"ghost\",\n  group: \"shared\"\n};\n\nconst InlineEdit = _ref => {\n  let {\n    value,\n    setValue\n  } = _ref;\n  const [editingValue, setEditingValue] = useState(value);\n\n  const onChange = event => setEditingValue(event.target.value);\n\n  const onKeyDown = event => {\n    if (event.key === \"Enter\" || event.key === \"Escape\") {\n      event.target.blur();\n    }\n  };\n\n  const onBlur = event => {\n    if (event.target.value.trim() === \"\") {\n      setEditingValue(value);\n    } else {\n      setValue(event.target.value);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    \"aria-label\": \"Field name\",\n    value: editingValue,\n    onChange: onChange,\n    onKeyDown: onKeyDown,\n    onBlur: onBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  });\n};\n\nconst Dropdown = _ref2 => {\n  let {\n    options\n  } = _ref2;\n  const [selectedOption, setSelectedOption] = useState(classes[0]);\n  return /*#__PURE__*/React.createElement(\"select\", {\n    value: selectedOption,\n    onChange: e => setSelectedOption(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, options.map(o => /*#__PURE__*/React.createElement(\"option\", {\n    key: o.value,\n    value: o.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, o.label)));\n};\n\nexport default function App() {\n  const [value, setValue] = useState();\n  const [blocks, setBlocks] = useState([{\n    id: 1,\n    content: \"Team 1\",\n    parent_id: null,\n    type: \"container\",\n    children: [{\n      id: 2,\n      content: classes[0],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 1\n    }, {\n      id: 3,\n      content: classes[1],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 1\n    }, {\n      id: 4,\n      content: classes[2],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 1\n    }, {\n      id: 5,\n      content: classes[3],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 1\n    }, {\n      id: 6,\n      content: classes[4],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 1\n    }, {\n      id: 7,\n      content: classes[5],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 1\n    }]\n  }, {\n    id: 8,\n    content: \"Team 2\",\n    parent_id: null,\n    type: \"container\",\n    children: [{\n      id: 9,\n      content: classes[0],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }\n      }),\n      width: 2,\n      type: \"text\",\n      parent_id: 8\n    }, {\n      id: 10,\n      content: classes[1],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }\n      }),\n      width: 2,\n      type: \"text\",\n      parent_id: 8\n    }, {\n      id: 11,\n      content: classes[2],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 17\n        }\n      }),\n      width: 2,\n      type: \"text\",\n      parent_id: 8\n    }, {\n      id: 12,\n      content: classes[3],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 8\n    }, {\n      id: 13,\n      content: classes[4],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 8\n    }, {\n      id: 14,\n      content: classes[5],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 8\n    }]\n  }, {\n    id: 15,\n    content: \"Team 3\",\n    parent_id: null,\n    type: \"container\",\n    children: [{\n      id: 16,\n      content: classes[0],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 15\n    }, {\n      id: 17,\n      content: classes[1],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 15\n    }, {\n      id: 18,\n      content: classes[2],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 15\n    }, {\n      id: 19,\n      content: classes[3],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 15\n    }, {\n      id: 20,\n      content: classes[4],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 15\n    }, {\n      id: 21,\n      content: classes[5],\n      name: /*#__PURE__*/React.createElement(InlineEdit, {\n        value: value,\n        setValue: setValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }\n      }),\n      width: 3,\n      type: \"text\",\n      parent_id: 15\n    }]\n  }]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ReactSortable, Object.assign({\n    list: blocks,\n    setList: setBlocks\n  }, sortableOptions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }\n  }), blocks.map((block, blockIndex) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(BlockWrapper, {\n    key: block.id,\n    block: block,\n    blockIndex: [blockIndex],\n    setBlocks: setBlocks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 11\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 5\n    }\n  }, \"borbor\"));\n}\n\nfunction Container(_ref3) {\n  let {\n    block,\n    blockIndex,\n    setBlocks\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ReactSortable, Object.assign({\n    key: block.id,\n    list: block.children,\n    setList: currentList => {\n      setBlocks(sourceList => {\n        const tempList = [...sourceList];\n        const _blockIndex = [...blockIndex];\n\n        const lastIndex = _blockIndex.pop();\n\n        const lastArr = _blockIndex.reduce((arr, i) => arr[i][\"children\"], tempList);\n\n        console.log(lastIndex);\n        lastArr[lastIndex][\"children\"] = currentList;\n        return tempList;\n      });\n    }\n  }, sortableOptions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }\n  }), block.children && block.children.map((childBlock, index) => {\n    return /*#__PURE__*/React.createElement(BlockWrapper, {\n      key: childBlock.id,\n      block: childBlock,\n      blockIndex: [...blockIndex, index],\n      setBlocks: setBlocks,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 15\n      }\n    });\n  })));\n}\n\nfunction BlockWrapper(_ref4) {\n  let {\n    block,\n    blockIndex,\n    setBlocks\n  } = _ref4;\n  // console.log(block);\n  if (!block) return null;\n\n  if (block.type === \"container\") {\n    return /*#__PURE__*/React.createElement(StyledBlockWrapper, {\n      className: \"block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 7\n      }\n    }, block.content, /*#__PURE__*/React.createElement(Container, {\n      block: block,\n      setBlocks: setBlocks,\n      blockIndex: blockIndex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(StyledBlockWrapper, {\n      className: \"block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      options: classes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }\n    }), \": \", block.name);\n  }\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/sortable_app/src/App.js"],"names":["React","useState","ReactSortable","styled","classes","StyledBlockWrapper","div","sortableOptions","animation","fallbackOnBody","swapThreshold","ghostClass","group","InlineEdit","value","setValue","editingValue","setEditingValue","onChange","event","target","onKeyDown","key","blur","onBlur","trim","Dropdown","options","selectedOption","setSelectedOption","e","map","o","label","App","blocks","setBlocks","id","content","parent_id","type","children","name","width","block","blockIndex","Container","currentList","sourceList","tempList","_blockIndex","lastIndex","pop","lastArr","reduce","arr","i","console","log","childBlock","index","BlockWrapper"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { ReactSortable } from \"react-sortablejs\";\nimport styled from \"styled-components\";\nimport \"./styles.css\";\nimport { classes } from './classes.js'\n\nconst StyledBlockWrapper = styled.div`\n  position: relative;\n  background: white;\n  text-align: center;\n  padding: 20px;\n  margin-bottom: 10px;\n  border: 1px solid lightgray;\n  border-radius: 4px;\n  cursor: move;\n  &:hover {\n    //background: #eeeeee;\n  }\n`;\n\nconst sortableOptions = {\n  animation: 150,\n  fallbackOnBody: true,\n  swapThreshold: 0.65,\n  ghostClass: \"ghost\",\n  group: \"shared\"\n};\n\nconst InlineEdit = ({ value, setValue }) => {\n  const [editingValue, setEditingValue] = useState(value);\n  \n  const onChange = (event) => setEditingValue(event.target.value);\n  \n  const onKeyDown = (event) => {\n    if (event.key === \"Enter\" || event.key === \"Escape\") {\n      event.target.blur();\n    }\n  }\n  \n  const onBlur = (event) => {\n    if (event.target.value.trim() === \"\") {\n      setEditingValue(value);\n    } else {\n      setValue(event.target.value)\n    }\n  }\n\n  return (\n    <input\n      type=\"text\"\n      aria-label=\"Field name\"\n      value={editingValue}\n      onChange={onChange}\n      onKeyDown={onKeyDown}\n      onBlur={onBlur}\n    />\n  );\n};\n\nconst Dropdown = ({\n  options\n}) => {\n  const [selectedOption, setSelectedOption] = useState(classes[0]);\n  return (\n      <select\n        value={selectedOption}\n        onChange={e => setSelectedOption(e.target.value)}>\n        {options.map(o => (\n          <option key={o.value} value={o.value}>{o.label}</option>\n        ))}\n      </select>\n  );\n};\n\nexport default function App() {\n  const [value, setValue] = useState()\n  const [blocks, setBlocks] = useState([\n    {\n      id: 1,\n      content: \"Team 1\",\n      parent_id: null,\n      type: \"container\",\n      children: [\n        {\n          id: 2,\n          content: classes[0],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 1\n        },\n        {\n          id: 3,\n          content: classes[1],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 1\n        },\n        {\n          id: 4,\n          content: classes[2],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 1\n        },\n        {\n          id: 5,\n          content: classes[3],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 1\n        },\n        {\n          id: 6,\n          content: classes[4],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 1\n        },\n        {\n          id: 7,\n          content: classes[5],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 1\n        },\n      ]\n    },\n    \n    {\n      id: 8,\n      content: \"Team 2\",\n      parent_id: null,\n      type: \"container\",\n      children: [\n        {\n          id: 9,\n          content:classes[0],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 2,\n          type: \"text\",\n          parent_id: 8\n        },\n        {\n          id: 10,\n          content: classes[1],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 2,\n          type: \"text\",\n          parent_id: 8\n        },\n        {\n          id: 11,\n          content: classes[2],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 2,\n          type: \"text\",\n          parent_id: 8\n        },\n        {\n          id: 12,\n          content: classes[3],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 8\n        },\n        {\n          id: 13,\n          content: classes[4],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 8\n        },\n        {\n          id: 14,\n          content: classes[5],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 8\n        },\n      ]\n    },\n    {\n      id: 15,\n      content: \"Team 3\",\n      parent_id: null,\n      type: \"container\",\n      children: [\n        {\n          id: 16,\n          content: classes[0],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 15\n        },\n        {\n          id: 17,\n          content: classes[1],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 15\n        },\n        {\n          id: 18,\n          content: classes[2],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 15\n        },\n        {\n          id: 19,\n          content: classes[3],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 15\n        },\n        {\n          id: 20,\n          content: classes[4],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 15\n        },\n        {\n          id: 21,\n          content: classes[5],\n          name: <InlineEdit value={value} setValue={setValue} />,\n          width: 3,\n          type: \"text\",\n          parent_id: 15\n        },\n      ]\n    },\n  ]);\n\n  return (\n    <>\n    <div className=\"row\">\n      <ReactSortable list={blocks} setList={setBlocks} {...sortableOptions}>\n        {blocks.map((block, blockIndex) => (\n          <div className=\"column\">\n          <BlockWrapper\n            key={block.id}\n            block={block}\n            blockIndex={[blockIndex]}\n            setBlocks={setBlocks}\n          />\n          </div>\n        ))}\n      </ReactSortable>\n    </div>\n    <div className=\"bor\">\n      borbor\n    </div>\n    </>\n  );\n}\nfunction Container({ block, blockIndex, setBlocks }) {\n  return (\n    <>\n      <ReactSortable\n        key={block.id}\n        list={block.children}\n        setList={(currentList) => {\n          setBlocks((sourceList) => {\n            const tempList = [...sourceList];\n            const _blockIndex = [...blockIndex];\n            const lastIndex = _blockIndex.pop();\n            const lastArr = _blockIndex.reduce(\n              (arr, i) => arr[i][\"children\"],\n              tempList\n            );\n            console.log(lastIndex);\n            lastArr[lastIndex][\"children\"] = currentList;\n            return tempList;\n          });\n        }}\n        {...sortableOptions}\n      >\n        {block.children &&\n          block.children.map((childBlock, index) => {\n            return (\n              <BlockWrapper\n                key={childBlock.id}\n                block={childBlock}\n                blockIndex={[...blockIndex, index]}\n                setBlocks={setBlocks}\n              />\n            );\n          })}\n      </ReactSortable>\n    </>\n  );\n}\nfunction BlockWrapper({ block, blockIndex, setBlocks }) {\n  // console.log(block);\n  if (!block) return null;\n  if (block.type === \"container\") {\n    return (\n      <StyledBlockWrapper className=\"block\">\n          {block.content}\n        <Container\n          block={block}\n          setBlocks={setBlocks}\n          blockIndex={blockIndex}\n        />\n      </StyledBlockWrapper>\n    );\n  } else {\n    return (\n      <StyledBlockWrapper className=\"block\">\n        <Dropdown options={classes} />\n        : {block.name}\n      </StyledBlockWrapper>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}